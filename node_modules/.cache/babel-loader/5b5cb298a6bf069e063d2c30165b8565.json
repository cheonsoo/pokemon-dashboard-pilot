{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mansoo/Workspace/nodejs/pokemon-dashboard-pilot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/mansoo/Workspace/nodejs/pokemon-dashboard-pilot/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from \"axios\";\n\nvar delay = function delay() {\n  var promise = new Promise(function (resolve, reject) {\n    setTimeout(function () {\n      resolve(true);\n    }, 500);\n  });\n  return promise;\n};\n\nexport var getPokemonList = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n    var _res$data;\n\n    var _ref$pageParam, pageParam, limit, url, res, data;\n\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _ref$pageParam = _ref.pageParam, pageParam = _ref$pageParam === void 0 ? 0 : _ref$pageParam;\n            limit = 20;\n            url = \"https://pokeapi.co/api/v2/pokemon?offset=\".concat(limit * pageParam, \"&limit=\").concat(limit);\n            _context.next = 5;\n            return axios.get(url);\n\n          case 5:\n            res = _context.sent;\n            data = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.results;\n            _context.next = 9;\n            return delay();\n\n          case 9:\n            console.log(data);\n            return _context.abrupt(\"return\", data);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function getPokemonList(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var getPokemonListWithDetail = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var _res$data2;\n\n    var url, res, data, i, current, _res, detail;\n\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = \"https://pokeapi.co/api/v2/pokemon\";\n            _context2.next = 3;\n            return axios.get(url);\n\n          case 3:\n            res = _context2.sent;\n            data = res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.results;\n            i = 0;\n\n          case 6:\n            if (!(i < data.length)) {\n              _context2.next = 16;\n              break;\n            }\n\n            current = data[i];\n            _context2.next = 10;\n            return axios.get(current.url);\n\n          case 10:\n            _res = _context2.sent;\n            detail = _res.data;\n            current = Object.assign(current, detail);\n\n          case 13:\n            i++;\n            _context2.next = 6;\n            break;\n\n          case 16:\n            return _context2.abrupt(\"return\", data);\n\n          case 17:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function getPokemonListWithDetail() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var getPokemonDetail = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n    var name,\n        url,\n        res,\n        _args3 = arguments;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            name = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : \"\";\n            console.log(\"getPokemonDetail\");\n\n            if (name) {\n              _context3.next = 4;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", {});\n\n          case 4:\n            url = \"https://pokeapi.co/api/v2/pokemon/\".concat(name);\n            _context3.next = 7;\n            return axios.get(url);\n\n          case 7:\n            res = _context3.sent;\n            return _context3.abrupt(\"return\", res.data);\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function getPokemonDetail() {\n    return _ref4.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","delay","promise","Promise","resolve","reject","setTimeout","getPokemonList","pageParam","limit","url","get","res","data","results","console","log","getPokemonListWithDetail","i","length","current","detail","Object","assign","getPokemonDetail","name"],"sources":["/Users/mansoo/Workspace/nodejs/pokemon-dashboard-pilot/src/api/index.js"],"sourcesContent":["import axios from \"axios\";\n\nconst delay = () => {\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve(true);\n    }, 500);\n  });\n  return promise;\n};\n\nexport const getPokemonList = async ({ pageParam = 0 }) => {\n  const limit = 20;\n  const url = `https://pokeapi.co/api/v2/pokemon?offset=${\n    limit * pageParam\n  }&limit=${limit}`;\n  const res = await axios.get(url);\n  const data = res?.data?.results;\n  await delay();\n  console.log(data);\n  return data;\n};\n\nexport const getPokemonListWithDetail = async () => {\n  const url = \"https://pokeapi.co/api/v2/pokemon\";\n  const res = await axios.get(url);\n  const data = res?.data?.results;\n  for (let i = 0; i < data.length; i++) {\n    let current = data[i];\n    const res = await axios.get(current.url);\n    const detail = res.data;\n    current = Object.assign(current, detail);\n  }\n\n  return data;\n};\n\nexport const getPokemonDetail = async (name = \"\") => {\n  console.log(\"getPokemonDetail\");\n  if (!name) return {};\n\n  const url = `https://pokeapi.co/api/v2/pokemon/${name}`;\n  const res = await axios.get(url);\n  return res.data;\n};\n"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;EAClB,IAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;IAC/CC,UAAU,CAAC,YAAM;MACfF,OAAO,CAAC,IAAD,CAAP;IACD,CAFS,EAEP,GAFO,CAAV;EAGD,CAJe,CAAhB;EAKA,OAAOF,OAAP;AACD,CAPD;;AASA,OAAO,IAAMK,cAAc;EAAA,uEAAG;IAAA;;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA,sBAASC,SAAT,EAASA,SAAT,+BAAqB,CAArB;YACtBC,KADsB,GACd,EADc;YAEtBC,GAFsB,sDAG1BD,KAAK,GAAGD,SAHkB,oBAIlBC,KAJkB;YAAA;YAAA,OAKVT,KAAK,CAACW,GAAN,CAAUD,GAAV,CALU;;UAAA;YAKtBE,GALsB;YAMtBC,IANsB,GAMfD,GANe,aAMfA,GANe,oCAMfA,GAAG,CAAEC,IANU,8CAMf,UAAWC,OANI;YAAA;YAAA,OAOtBb,KAAK,EAPiB;;UAAA;YAQ5Bc,OAAO,CAACC,GAAR,CAAYH,IAAZ;YAR4B,iCASrBA,IATqB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAdN,cAAc;IAAA;EAAA;AAAA,GAApB;AAYP,OAAO,IAAMU,wBAAwB;EAAA,uEAAG;IAAA;;IAAA;;IAAA;MAAA;QAAA;UAAA;YAChCP,GADgC,GAC1B,mCAD0B;YAAA;YAAA,OAEpBV,KAAK,CAACW,GAAN,CAAUD,GAAV,CAFoB;;UAAA;YAEhCE,GAFgC;YAGhCC,IAHgC,GAGzBD,GAHyB,aAGzBA,GAHyB,qCAGzBA,GAAG,CAAEC,IAHoB,+CAGzB,WAAWC,OAHc;YAI7BI,CAJ6B,GAIzB,CAJyB;;UAAA;YAAA,MAItBA,CAAC,GAAGL,IAAI,CAACM,MAJa;cAAA;cAAA;YAAA;;YAKhCC,OALgC,GAKtBP,IAAI,CAACK,CAAD,CALkB;YAAA;YAAA,OAMlBlB,KAAK,CAACW,GAAN,CAAUS,OAAO,CAACV,GAAlB,CANkB;;UAAA;YAM9BE,IAN8B;YAO9BS,MAP8B,GAOrBT,IAAG,CAACC,IAPiB;YAQpCO,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAcH,OAAd,EAAuBC,MAAvB,CAAV;;UARoC;YAILH,CAAC,EAJI;YAAA;YAAA;;UAAA;YAAA,kCAW/BL,IAX+B;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAxBI,wBAAwB;IAAA;EAAA;AAAA,GAA9B;AAcP,OAAO,IAAMO,gBAAgB;EAAA,uEAAG;IAAA;IAAA;IAAA;IAAA;IAAA;MAAA;QAAA;UAAA;YAAOC,IAAP,8DAAc,EAAd;YAC9BV,OAAO,CAACC,GAAR,CAAY,kBAAZ;;YAD8B,IAEzBS,IAFyB;cAAA;cAAA;YAAA;;YAAA,kCAEZ,EAFY;;UAAA;YAIxBf,GAJwB,+CAImBe,IAJnB;YAAA;YAAA,OAKZzB,KAAK,CAACW,GAAN,CAAUD,GAAV,CALY;;UAAA;YAKxBE,GALwB;YAAA,kCAMvBA,GAAG,CAACC,IANmB;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAhBW,gBAAgB;IAAA;EAAA;AAAA,GAAtB"},"metadata":{},"sourceType":"module"}