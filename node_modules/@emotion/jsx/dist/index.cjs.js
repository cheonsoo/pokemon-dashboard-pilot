'use strict';

var React = require('react');
var core = require('@emotion/core');
var utils = require('@emotion/utils');
var serialize = require('@emotion/serialize');

var jsx = function jsx(type, props) {
  var _arguments = arguments;

  if (props == null || props.css == null || type.__emotion_component === true) {
    // $FlowFixMe
    return React.createElement.apply(undefined, arguments);
  }

  if (typeof props.css === 'string' && // check if there is a css declaration
  props.css.indexOf(':') !== -1 && process.env.NODE_ENV !== 'production') {
    throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`" + props.css + "`");
  }

  return core.consume(function (context) {
    var registeredStyles = [];
    var className = '';

    if (props.className !== undefined) {
      className = utils.getRegisteredStyles(context.registered, registeredStyles, props.className);
    }

    registeredStyles.push(typeof props.css === 'function' ? props.css(context.theme) : props.css);
    var serialized = serialize.serializeStyles(context.registered, registeredStyles);
    var rules = utils.insertStyles(context, serialized);
    className += "css-" + serialized.name;
    var newProps = {};

    for (var key in props) {
      if (Object.prototype.hasOwnProperty.call(props, key) && key !== 'css') {
        newProps[key] = props[key];
      }
    }

    newProps.className = className;
    var childrenLength = _arguments.length;
    var createElementArgArray = Array(childrenLength);
    createElementArgArray[0] = type;
    createElementArgArray[1] = newProps;

    for (var i = 2; i < childrenLength; i++) {
      createElementArgArray[i] = _arguments[i];
    } // $FlowFixMe


    var ele = React.createElement.apply(undefined, createElementArgArray);

    if (utils.shouldSerializeToReactTree && rules !== undefined) {
      return React.createElement(React.Fragment, null, React.createElement("style", {
        "data-emotion-ssr": serialized.name,
        dangerouslySetInnerHTML: {
          __html: rules
        }
      }), ele);
    }

    return ele;
  });
};

module.exports = jsx;
//# sourceMappingURL=index.cjs.js.map
