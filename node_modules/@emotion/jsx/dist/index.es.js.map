{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["// @flow\nimport * as React from 'react'\nimport { consume } from '@emotion/core'\nimport {\n  getRegisteredStyles,\n  insertStyles,\n  shouldSerializeToReactTree\n} from '@emotion/utils'\nimport { serializeStyles } from '@emotion/serialize'\n\n// $FlowFixMe\nconst jsx: typeof React.createElement = function(\n  type: React.ElementType,\n  props: Object\n) {\n  if (props == null || props.css == null || type.__emotion_component === true) {\n    // $FlowFixMe\n    return React.createElement.apply(undefined, arguments)\n  }\n  if (\n    typeof props.css === 'string' &&\n    // check if there is a css declaration\n    props.css.indexOf(':') !== -1 &&\n    process.env.NODE_ENV !== 'production'\n  ) {\n    throw new Error(\n      `Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css\\`${\n        props.css\n      }\\``\n    )\n  }\n\n  return consume(context => {\n    let registeredStyles = []\n\n    let className = ''\n    if (props.className !== undefined) {\n      className = getRegisteredStyles(\n        context.registered,\n        registeredStyles,\n        props.className\n      )\n    }\n    registeredStyles.push(\n      typeof props.css === 'function' ? props.css(context.theme) : props.css\n    )\n    const serialized = serializeStyles(context.registered, registeredStyles)\n    const rules = insertStyles(context, serialized)\n    className += `css-${serialized.name}`\n\n    const newProps = {}\n    for (let key in props) {\n      if (Object.prototype.hasOwnProperty.call(props, key) && key !== 'css') {\n        newProps[key] = props[key]\n      }\n    }\n    newProps.className = className\n\n    let childrenLength = arguments.length\n\n    let createElementArgArray = Array(childrenLength)\n    createElementArgArray[0] = type\n    createElementArgArray[1] = newProps\n\n    for (let i = 2; i < childrenLength; i++) {\n      createElementArgArray[i] = arguments[i]\n    }\n\n    // $FlowFixMe\n    const ele = React.createElement.apply(undefined, createElementArgArray)\n    if (shouldSerializeToReactTree && rules !== undefined) {\n      return (\n        <React.Fragment>\n          <style\n            data-emotion-ssr={serialized.name}\n            dangerouslySetInnerHTML={{ __html: rules }}\n          />\n          {ele}\n        </React.Fragment>\n      )\n    }\n    return ele\n  })\n}\n\nexport default jsx\n"],"names":["jsx","type","props","css","__emotion_component","React","apply","undefined","arguments","indexOf","process","env","NODE_ENV","Error","consume","registeredStyles","className","getRegisteredStyles","context","registered","push","theme","serialized","serializeStyles","rules","insertStyles","name","newProps","key","Object","prototype","hasOwnProperty","call","childrenLength","length","createElementArgArray","Array","i","ele","shouldSerializeToReactTree","React.createElement","React.Fragment"],"mappings":";;;;;AAWA,IAAMA,MAAkC,SAAlCA,GAAkC,CACtCC,IADsC,EAEtCC,KAFsC,EAGtC;;;MACIA,SAAS,IAAT,IAAiBA,MAAMC,GAAN,IAAa,IAA9B,IAAsCF,KAAKG,mBAAL,KAA6B,IAAvE,EAA6E;;WAEpEC,aAAA,CAAoBC,KAApB,CAA0BC,SAA1B,EAAqCC,SAArC,CAAP;;;MAGA,OAAON,MAAMC,GAAb,KAAqB,QAArB;QAEMA,GAAN,CAAUM,OAAV,CAAkB,GAAlB,MAA2B,CAAC,CAF5B,IAGAC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAJ3B,EAKE;UACM,IAAIC,KAAJ,8HAEFX,MAAMC,GAFJ,OAAN;;;SAOKW,QAAQ,mBAAW;QACpBC,mBAAmB,EAAvB;QAEIC,YAAY,EAAhB;;QACId,MAAMc,SAAN,KAAoBT,SAAxB,EAAmC;kBACrBU,oBACVC,QAAQC,UADE,EAEVJ,gBAFU,EAGVb,MAAMc,SAHI,CAAZ;;;qBAMeI,IAAjB,CACE,OAAOlB,MAAMC,GAAb,KAAqB,UAArB,GAAkCD,MAAMC,GAAN,CAAUe,QAAQG,KAAlB,CAAlC,GAA6DnB,MAAMC,GADrE;QAGMmB,aAAaC,gBAAgBL,QAAQC,UAAxB,EAAoCJ,gBAApC,CAAnB;QACMS,QAAQC,aAAaP,OAAb,EAAsBI,UAAtB,CAAd;0BACoBA,WAAWI,IAA/B;QAEMC,WAAW,EAAjB;;SACK,IAAIC,GAAT,IAAgB1B,KAAhB,EAAuB;UACjB2B,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC9B,KAArC,EAA4C0B,GAA5C,KAAoDA,QAAQ,KAAhE,EAAuE;iBAC5DA,GAAT,IAAgB1B,MAAM0B,GAAN,CAAhB;;;;aAGKZ,SAAT,GAAqBA,SAArB;QAEIiB,iBAAiBzB,WAAU0B,MAA/B;QAEIC,wBAAwBC,MAAMH,cAAN,CAA5B;0BACsB,CAAtB,IAA2BhC,IAA3B;0BACsB,CAAtB,IAA2B0B,QAA3B;;SAEK,IAAIU,IAAI,CAAb,EAAgBA,IAAIJ,cAApB,EAAoCI,GAApC,EAAyC;4BACjBA,CAAtB,IAA2B7B,WAAU6B,CAAV,CAA3B;KAjCsB;;;QAqClBC,MAAMjC,aAAA,CAAoBC,KAApB,CAA0BC,SAA1B,EAAqC4B,qBAArC,CAAZ;;QACII,8BAA8Bf,UAAUjB,SAA5C,EAAuD;aAEnDiC,cAACC,QAAD,QACED;4BACoBlB,WAAWI,IAD/B;iCAE2B;kBAAUF;;QAHvC,EAKGc,GALH,CADF;;;WAUKA,GAAP;GAjDK,CAAP;CArBF;;;;"}